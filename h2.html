<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <title>Linux palvelimet</title>
    </head>
    <body>
        <nav class="nav nav-tabs">
            <a class="nav-link" href="index.html">Etusivu</a>
            <a class="nav-link" href="h1.html">H1</a>
            <a class="nav-link" active>H2</a>
            <a class="nav-link" href="h3.html">H3</a>
            <a class="nav-link" href="h4.html">H4</a>
            <a class="nav-link" href="h5.html">H5</a>
            <a class="nav-link" href="h6.html">H6</a>
        </nav>

        <div class="jumbotron" style="padding-top: 20px;">           
            <h1>Harjoitus H2</h1>

            <div class="container" style="padding-top: 20px;">
                <div class="row">
                    <div class="col-3">Nimi</div>
                    <div class="col">Sanna Jyrinki</div>
                </div>
                <div class="row">
                    <div class="col-3">Oppilaitos</div>
                    <div class="col">Haaga-Helian ammattikorkeakoulu</div>
                </div>
                <div class="row">
                    <div class="col-3">Kurssi</div>
                    <div class="col">
                        <a href="https://terokarvinen.com/2021/linux-palvelimet-ict4tn021-3018/">linux-palvelimet-ict4tn021-3018</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">Opettaja</div>
                    <div class="col">Tero Karvinen</div>
                </div>
            </div>
            <div class="container" style="padding-top: 20px;">
                <div class="row">
                    <div class="col-3">Tietokoneena</div>
                    <div class="col">Intel(R) Core(TM) i7-6500U CPU @ 2.50GHz</div>
                </div>
                <div class="row">
                    <div class="col-3">Käyttöjärjestelmä</div>
                    <div class="col">Windows 10 Home, Versio 20H2</div>
                </div>
                <div class="row">
                    <div class="col-3">Linux</div>
                    <div class="col">Virtual Boxiin asennettu Debian</div>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Tehtävä z, tiivistelmät artikkeleista</h5>
                  
                  <h6 class="card-subtitle mb-2 text-muted">Karvinen 2020: <a href="https://terokarvinen.com/2020/command-line-basics-revisited/">
                    Command Line Basics Revisited</a></h6>
                    <ul>
                        <li>
                            Artikkelissa käydään läpi linuxin keskeisimmät toiminnot
                        </li>
                        <li>Liikkuminen hakemistopuussa/tiedostojen katselu pwd, ls, cd somedirectory, cd..,  less, |less</li>
                        <li>Tiedostojen manipulointi nano, mkdir, mv, copy, rmdir, rm, cp, -r</li>
                        <li>SSH yhteys ssh, exit, scp</li>
                        <li>Help-toiminnot man, --help, -h</li>
                        <li>History ja aputoiminnot tabulaattori, nuolinäppäimet, history komento</li>
                        <li>Tärkeät hakemistot /, /home, /home/userX, /etc, /media, /var/log</li>
                        <li>Paketin hallinta sudo apt-get update, apt-get search XXX, sudo apt-get -y install XXX, dpkg --listfiles XXX, sudo apt-get purge XXX </li>
                    </ul>
                  
                  <h6 class="card-subtitle mb-2 text-muted"><a href="https://hn.algolia.com/?dateEnd=1643270199&dateRange=custom&dateStart=1547942400&page=0&prefix=false&query=command%20line&sort=byPopularity&type=story">
                    YCombinator Hacker News </a></h6>
                    <ul>
                        <li>
                            Valitsin artikkeliksi <a href="https://www.wezm.net/technical/2019/10/useful-command-line-tools/">An Illustrated Guide to Useful Command Line Tools</a>
                        </li>
                        <li>Artikkelissa esiteltiin selkeällä tavalla monia komentoriviltä käytettäviä työkaluja</li>
                        <li>Esittelyt olivat selkeitä, riittävän lyhyitä ja niistä näytettiin esimerkki kuva, miten komentoriviltä ohjelmaa käytännössä käytetään</li>
                        <li>Itseäni kiinnosti eniten alt, bat, chars, eva, exa, mdcat ja shotgun</li>
                        <li>Artikkeliin oli 30.1.2022 klo 19:06 yhteensä 102 kommenttia, joista monet pitivät listasta</li>
                    </ul>
                </div>
              </div>
        
              <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Tehtävä a, tärkeät kansiot</h5>
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /</h6>
                    <p class="card-text">
                        Hakemisto / on linuxin juurihakemisto, jonka alla kaikki hakemistot alihakemistoineen ovat.
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_1.PNG" class="img-fluid" alt="Responsive image">
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /home</h6>
                    <p class="card-text">
                        Hakemisto /home sisältää kaikkien käyttäjien kotihakemisto, tälle koneelle on luotu vain yksi käyttäjä eli jyrinsan.</li>
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_2.PNG" class="img-fluid" alt="Responsive image">
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /home/jyrinsan</h6>
                    <p class="card-text">
                        Hakemisto /home/jyrinsan on käyttäjän jyrinsan kotihakemisto.
                        Oma kotihakemisto on jokaisen käyttäjän henkilökohtainen tallennuspaikka, jonne voi luoda hakemistoja ja tallentaa tiedostoja ilman, että muut niitä näkevät.
                        Alihakemisto treeni on itse luomani alihakemisto, muut alihakemistot ovat syntyneet Debianin asennuksen yhteydessä.
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_3.PNG" class="img-fluid" alt="Responsive image">
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /etc</h6>
                    <p class="card-text">
                        Hakemisto /etc sisältää ison määrän linuxin erilaisia konfiguraatiotiedostoja ja alihakemistoja.
                        Tiedostot ovat tekstitiedostoja, joiden sisältöä voi katsella esim. less käskyllä.
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_4.PNG" class="img-fluid" alt="Responsive image">
                    <p>
                        Koska tiedostoja ja hakemistoja on paljon, haetaan vain ne jossa esiintyy merkkijono log seuraavasti <pre>ls | grep log</pre>
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_5.PNG" class="img-fluid" alt="Responsive image">
                    <p>
                        Katsotaan esimerkkinä yhden tiedoston sisältö
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_6.PNG" class="img-fluid" alt="Responsive image">
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /media</h6>
                    <p class="card-text">
                        Hakemisto /media sisältää koneellani vain käyttäjännimellä jyrinsan olevan alihakemiston, joka on tyhjä.
                        Tähän hakemistoon tulee poistettava media, kuten koneeseen kiinnitettävä usb-tikku, cd-rom tms.
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_7.PNG" class="img-fluid" alt="Responsive image">
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Hakemisto /var/log</h6>
                    <p class="card-text">
                        Hakemistossa /var/log sijaitsee linuxin erilaisia lokeja.
                        Lokitiedostot ovat pitkiä, joten tarkemmin niiden sisältöä voi tutkailla esim. seuraavasti.
                    </p>
                    <img class="card-img-bottom" src="h2_images/a_9.PNG" class="img-fluid" alt="Responsive image">
                </div>
              </div>

              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Tehtävä b, komentorivi-ohjelmien asennus</h5>
                  <p>Tämän tehtävän suurin ongelma oli, että koska linux ei ole minun tuttu, en tunne sen ohjelmia, ja niiden etsiminen
                      tuntui hankalalta. Monet peruskäskyihin liittyvät ohjelmat olivat vakiona ja lisää ohjelmia oli vaikea etsiä tuntematta ollenkaan tarpeita.
                      Windows-käyttäjänä oli vaikea ajatella komentorivi ohjelmien tarpeita. Siispä asentelin linuxiin niitä windowsissa tutuksi tulleita 
                      sovelluskehittäjän välineitä, joita olen tottunut windowsissa käyttämään komentoriviltä.
                  </p>
                </div>
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Git</h6>
                    <p class="card-text">
                        Mm. tämä raportti, jota luet, majailee GitHubissa, jonne olen pushannut windowsissa Git:lla. Asennampa siis Git:n linuxiini, jonka
                        jälkeen pystyn kokonaan kirjoittamaan raporttiani Linuxissa ja pushaamaan GitHubiin suoraan Linuxista.
                        <div>Asennus <pre>sudo apt-get -y install git</pre></div>
                        <div>Esimerkkinä kloonataan repository GitHubista <pre>git clone https://github.com/jyrinsan/jyrinsan.github.io.git</pre> 
                            Alla näkyy kuinka sen hetkinen ko. repositoryn sisältö githubista kopioitui koneelleni.</div>
                    
                    </p>
                    <img class="card-img-bottom" src="h2_images/b_1.PNG" class="img-fluid" alt="Responsive image">
                  </div>
                  <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">NodeJS</h6>
                    <p class="card-text">
                        Asennetaan NodeJS. Windowsissa olen käyttänyt React sovellusten ohjelmoinnissa NodeJS:a ja sen mukana tulevaa npm:aa ja npx:aa, joten olisi näppärää tehdä asioita linuxissakin.
                        <div>Asennusohjetta löysin <a href="https://github.com/nodesource/distributions/blob/master/README.md">täältä </a></div>
                        <div>Asennus 
                        <pre>
                            curl -fsSL https://deb.nodesource.com/setup_17.x | bash -
                            apt-get install -y nodejs
                        </pre></div>
                        <div>Luodaan uusi react sovellus
                            <pre>
                            npx create-react-app myapp
                        </pre></div>
                        <div>Käynnistettän sovellus, jolloin edellisen käskyn luoma sovelluksen runko avautuu webbiselaimeen
                            <pre>
                            cd myapp
                            npm start myapp
                        </pre></div>
                        <img class="card-img-bottom" src="h2_images/b_2.PNG" class="img-fluid" alt="Responsive image">
                        <div>Mennään katsomaan, mitä edellinen npx create-react-app myapp käsky oikein loi myapp hakemistoon.
                        Voidaan jatkaa siis sovelluksen koodaamista täällä. 
                        </div>
                        <img class="card-img-bottom" src="h2_images/b_3.PNG" class="img-fluid" alt="Responsive image">
                    </p>
                  </div>
                  <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Java</h6>
                    <p>Koodari tarvitsee tietysti koneelle myös Javan, jotta voi kohtapuoliin kokonaan siirtyä linux-käyttäjäksi.</p>
                    <div>Asennetaan java, ja tarkistetaan jre:n ja jdk:n versiot, eli että asennus onnistui ja java löytyy
                        <pre>
                        sudo apt-get -y install default-jdk
                        java -version # tämä antaa java ajoympäristön version
                        javac -version # tämä antaa java kääntäjän version
                    </pre></div>
                    <img class="card-img-bottom" src="h2_images/b_4.PNG" class="img-fluid" alt="Responsive image">
                    <p>Nyt voin koodata linuxussa java-ohjelmia, kääntää ja ajaa niitä. Mihin sitä windowsia enää tarvitaankaan.</p>
                </div>
              </div>

              <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Tehtävä c, merkinnät lokeille</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Tapaus 1: kielletty toimenpide, virheellinen salasana</h6>
                        
                    <p>Yritän asentaa paketinhallinnalla ohjelmaa ja annan 3 kertaa väärän salasanan. Ohjelma on kuvitteellinen, mutta se ei haittaa, koska virhe tulee jo sudotuksen yhteydessä.
                        <pre>sudo -k apt-get install töttöröö</pre>
                        Lokin loppua katson komennolla <pre>sudo tail -f auth.log</pre>
                        Ensimmäinen lokimerkintä tuli, kun ensimmäisen kerran syötin virheellisen salasanan.
                        Loki kertoo, että käyttäjän yrittämä sudo-käskyn autentikointi epäonnistui.
                        Toinen lokimerkintä tuli, kun olin 3 kertaa syöttänyt virheellisen salasanan, ja kysyminen loppui.
                        Siinä käskyä apt-get töttöröö ei pystytty käyttäjänä ROOT suorittamaan /home/jyrinsan hakemistossa,
                         koska oli 3 virheellistä salasanan yritystä.
                        
                        <img class="card-img-bottom" src="h2_images/c_1.PNG" class="img-fluid" alt="Responsive image">
                    </p>
                    <h6 class="card-subtitle mb-2 text-muted">Tapaus 2: sallittu toimenpide, oikea salasana</h6>
                        
                    <p>Päivitän sovellukset ja annan oikean salasanani
                        <pre>sudo -k apt-get update</pre>
                        Lokin loppua katson komennolla <pre>sudo tail -f auth.log</pre>
                        Loki kertoo, että jyrinsan on suorittanut hakemistossa /home/jyrinsan sudo-käskyllä ROOT käyttäjänä apt-get update komennon.
                        
                        <img class="card-img-bottom" src="h2_images/c_2.PNG" class="img-fluid" alt="Responsive image">
                    </p>

                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Tehtävä d, grep käskyn käyttöesimerkkejä</h5>
                  etsii auth.log tiedostostosta rivit, joissa esiintyy jyrinsan (pienellä kirjoitettuna)
                  <pre>grep jyrinsan auth.log</pre>
                  
                  etsii auth.log tiedostostosta rivit, joissa esiintyy jyrinsan (kirjasinkoolla ei merkitystä)
                  <pre>grep JyrINSAN -i auth.log</pre>
                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Tehtävä e, sovellusten päivitys</h5>
                  <p>Päivitetään sovellusten rekisterilistaan löytyvät päivitykset
                    <pre>sudo apt-get update</pre>
                    <img class="card-img-bottom" src="h2_images/e_1.PNG" class="img-fluid" alt="Responsive image">
                  </p>

                  <p>Suoritetaan varsinainen päivitykset, tällä kertaa kuitenkaan mitään ei päivittynyt, miksiköhän?
                    <pre>sudo apt-get dist-upgrade</pre>
                    <img class="card-img-bottom" src="h2_images/e_2.PNG" class="img-fluid" alt="Responsive image">
                  </p>
                </div>
              </div>
    </div>
    </div>
</html>
